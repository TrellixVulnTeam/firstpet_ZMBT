{"ast":null,"code":"import _slicedToArray from\"C:/Users/Darya/take13/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import classes from\"./searchForm.module.scss\";import ChooseBtn from\"./ChooseBtn\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faMagnifyingGlass,faXmark}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchForm=function SearchForm(_ref){var modal=_ref.modal,setModal=_ref.setModal,data=_ref.data;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),formActive=_useState4[0],setFormActive=_useState4[1];var dropDownClasses=[classes.dropDown];var formClasses=[classes.searchForm];var dropDownRef=useRef(null);var inputRef=useRef(null);var queryChange=function queryChange(event){setQuery(event.target.value);event.target.value!==\"\"?setFormActive(true):setFormActive(false);};if(formActive){dropDownClasses.push(classes.active);formClasses.push(classes.active);}useEffect(function(){var onClick=function onClick(e){if(!dropDownRef.current.contains(e.target)&&!inputRef.current.contains(e.target)){setFormActive(false);}};document.addEventListener(\"click\",onClick);return function(){return document.removeEventListener(\"click\",onClick);};},[]);return/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:formClasses.join(\" \"),children:[/*#__PURE__*/_jsx(ChooseBtn,{modal:modal,setModal:setModal,data:data}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search products, categories...\",id:\"search-id\",name:\"search\",value:query,onChange:queryChange,ref:inputRef}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();setQuery(\"\");},children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faXmark,className:classes.xMark})}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faMagnifyingGlass})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:dropDownClasses.join(\" \"),ref:dropDownRef,children:[/*#__PURE__*/_jsx(\"li\",{children:query}),/*#__PURE__*/_jsx(\"li\",{children:query}),/*#__PURE__*/_jsx(\"li\",{children:query}),/*#__PURE__*/_jsx(\"li\",{children:query}),/*#__PURE__*/_jsx(\"li\",{children:query}),/*#__PURE__*/_jsx(\"li\",{children:query})]})]});};export default SearchForm;","map":{"version":3,"names":["React","useState","useRef","useEffect","classes","ChooseBtn","FontAwesomeIcon","faMagnifyingGlass","faXmark","SearchForm","modal","setModal","data","query","setQuery","formActive","setFormActive","dropDownClasses","dropDown","formClasses","searchForm","dropDownRef","inputRef","queryChange","event","target","value","push","active","onClick","e","current","contains","document","addEventListener","removeEventListener","join","preventDefault","xMark"],"sources":["C:/Users/Darya/take13/src/components/searchForm/SearchForm.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport classes from \"./searchForm.module.scss\";\r\nimport ChooseBtn from \"./ChooseBtn\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMagnifyingGlass, faXmark } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst SearchForm = ({ modal, setModal, data }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [formActive, setFormActive] = useState(false);\r\n  const dropDownClasses = [classes.dropDown];\r\n  const formClasses = [classes.searchForm];\r\n  const dropDownRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  const queryChange = (event) => {\r\n    setQuery(event.target.value);\r\n    event.target.value !== \"\" ? setFormActive(true) : setFormActive(false);\r\n  };\r\n\r\n  if (formActive) {\r\n    dropDownClasses.push(classes.active);\r\n    formClasses.push(classes.active);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const onClick = (e) => {\r\n      if (\r\n        !dropDownRef.current.contains(e.target) &&\r\n        !inputRef.current.contains(e.target)\r\n      ) {\r\n        setFormActive(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"click\", onClick);\r\n    return () => document.removeEventListener(\"click\", onClick);\r\n  }, []);\r\n\r\n  return (\r\n    <form>\r\n      <div className={formClasses.join(\" \")}>\r\n        <ChooseBtn modal={modal} setModal={setModal} data={data} />\r\n        <input\r\n          placeholder={\"Search products, categories...\"}\r\n          id=\"search-id\"\r\n          name=\"search\"\r\n          value={query}\r\n          onChange={queryChange}\r\n          ref={inputRef}\r\n        />\r\n        <button\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            setQuery(\"\");\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faXmark} className={classes.xMark} />\r\n        </button>\r\n        <button>\r\n          <FontAwesomeIcon icon={faMagnifyingGlass} />\r\n        </button>\r\n      </div>\r\n      <ul className={dropDownClasses.join(\" \")} ref={dropDownRef}>\r\n        <li>{query}</li>\r\n        <li>{query}</li>\r\n        <li>{query}</li>\r\n        <li>{query}</li>\r\n        <li>{query}</li>\r\n        <li>{query}</li>\r\n      </ul>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}